(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{175:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(13),l=a.n(r),o=(a(93),a(94),a(64)),s=a(63),m=a(21),i=a(84),u=a.n(i),d=(a(95),a(182)),v=a(181);var E=function(e){var t=e.data,a=t.user,n=a.image_url.original,r=a.username,l=t.body;return c.a.createElement("div",{className:"row m-0"},c.a.createElement("div",{className:"row w-100 mx-0 p-1 my-1 bg-white"},c.a.createElement("div",{className:"m-0",style:{width:50}},c.a.createElement("img",{src:n,className:"",height:"45",width:"45",alt:"Avatar",style:{borderRadius:100}})),c.a.createElement("div",{className:"pl-2 pt-2"},c.a.createElement("p",null,r)),c.a.createElement("div",{className:"w-100 pl-2 pt-2"},e.comment&&c.a.createElement("div",{className:"w-100"},c.a.createElement("p",null,l)))))},p=a(180);var h=function(e){return c.a.createElement("div",{className:"d-flex w-100 justify-content-center align-items-center py-2"},c.a.createElement(p.a,{animation:"border",role:"status"},c.a.createElement("span",{className:"sr-only"},"Loading...")))};var f=function(e){var t=e.comments,a=e.loading;return c.a.createElement(c.a.Fragment,null,c.a.createElement(v.a,{show:e.show,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,onHide:function(){return e.hide(!1)}},c.a.createElement(v.a.Header,{closeButton:!0},c.a.createElement(v.a.Title,{id:"contained-modal-title-vcenter"},"Comments")),c.a.createElement(v.a.Body,{style:{minHeight:300}},a&&!t.length?c.a.createElement(h,null):t&&t.length?t.map((function(e){return c.a.createElement("div",{key:e.id,className:"row m-0"},c.a.createElement(E,{data:e,comment:!0}))})):"")))},b=a(58),g=a(60);var w=function(e){var t=e.post,a=e.likePostEvent,n=e.getPostCommentsEvent,r=t.name,l=t.thumbnail.image_url,o=t.id,s=t.votes_count,m=t.comments_count,i=t.current_user.voted_for_post;return c.a.createElement("div",{className:"col-md-4 mb-2 p-1"},c.a.createElement("div",{className:"border px-3 py-1"},c.a.createElement("div",{style:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}},c.a.createElement("h5",null,r)),c.a.createElement("hr",null),c.a.createElement("div",{className:"w-100"},c.a.createElement("img",{alt:"img",className:"w-100",src:l})),c.a.createElement("hr",null),c.a.createElement("div",{className:"d-flex cursor-pointer"},c.a.createElement("div",{className:"w-50",onClick:function(){return a(o)},style:{color:i?"green":""}},c.a.createElement(b.a,{icon:g.b}),c.a.createElement("span",{className:"ml-1"},s)),m?c.a.createElement("div",{className:"w-50 text-right cursor-pointer",onClick:function(){return n(o)}},c.a.createElement(b.a,{icon:g.a}),c.a.createElement("span",{className:"ml-1"},m)):"")))},N=a(82),y=a.n(N);function j(e){return new Promise((function(t,a){y.a.get("https://api.producthunt.com/v1"+e,{headers:{Authorization:"Bearer Xbdpx_jQy6cWVQE-rfPPso8-F_PZZrgItIDRGKumkIw"}}).then((function(e){t(e)})).catch((function(e){a(e)}))}))}var O=a(83),_=a.n(O);var x=function(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)([]),i=Object(m.a)(l,2),v=i[0],p=i[1],b=Object(n.useState)([]),g=Object(m.a)(b,2),N=g[0],y=g[1],O=Object(n.useState)(!1),x=Object(m.a)(O,2),k=x[0],P=x[1],S=Object(n.useState)(!0),C=Object(m.a)(S,2),D=C[0],F=C[1],I=Object(n.useState)(!1),Y=Object(m.a)(I,2),B=Y[0],H=Y[1],z=Object(n.useState)(new Date),A=Object(m.a)(z,2),J=A[0],L=A[1],M=Object(n.useState)(!1),Q=Object(m.a)(M,2),R=Q[0],T=Q[1],Z=function(e){var t=_()(e).format("YYYY-MM-DD");F(!0),r([]),y([]),p([]),T(!1),j("/posts?day="+t).then((function(e){F(!1),e.data&&e.data.posts&&r(e.data.posts)})).catch((function(e){F(!1),T(!0)}))};Object(n.useEffect)((function(){Z(J)}),[]);var G=function(e){y([]),P(!0),T(!1);var t=a.findIndex((function(t){return t.id===e}));if(-1!==t){var n=a[t].votes_count;a[t].current_user.voted_for_post?n-=1:n+=1;var c=[].concat(Object(s.a)(a.slice(0,t)),[Object(o.a)({},a[t],{votes_count:n,current_user:Object(o.a)({},a[t].current_user,{voted_for_post:!a[t].current_user.voted_for_post})})],Object(s.a)(a.slice(t+1)));r(c),j("/posts/".concat(e,"/votes")).then((function(e){var t;P(!1),(null===e||void 0===e?void 0:null===(t=e.data)||void 0===t?void 0:t.votes)&&y(e.data.votes)})).catch((function(e){P(!1),T(!0)}))}},K=function(e){p([]),F(!0),H(!0),T(!1),j("/comments?search[post_id]="+e).then((function(e){var t;F(!1),(null===e||void 0===e?void 0:null===(t=e.data)||void 0===t?void 0:t.comments)&&p(e.data.comments)})).catch((function(e){F(!1),T(!0)}))};return c.a.createElement("div",{className:""},c.a.createElement("header",{className:"py-2 px-3"},c.a.createElement("span",{className:"text-white font-weight-bold"},c.a.createElement("h3",null,"post.com"))),R&&c.a.createElement(d.a,{variant:"danger",className:"text-center"},"Something went wrong. Try again later."),c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row content"},c.a.createElement("div",{className:"col-md-4 col-lg-3 sidenav border pt-2"},c.a.createElement("h4",null,"Filter"),c.a.createElement("div",{className:"input-group"},c.a.createElement(u.a,{selected:J,onChange:function(e){return function(e){L(e),Z(e)}(e)}})),c.a.createElement("div",{className:"input-group py-2 "},c.a.createElement("button",{className:"btn btn-primary border",type:"button",onClick:function(){return L(new Date),void Z(new Date)}},"Clear Filter")),c.a.createElement("hr",null),N&&N.length?c.a.createElement("div",{className:"py-2"},"People Like the post"):"",c.a.createElement("div",{className:"py-2 ",style:{overflowY:"auto",maxHeight:350}},k&&!N.length?c.a.createElement(h,null):N&&N.length?N.map((function(e){return c.a.createElement(E,{key:e.id,data:e})})):"")),c.a.createElement("div",{className:"col-md-8 col-lg-9 pt-2"},c.a.createElement("div",{className:"row m-0"},D&&!a.length?c.a.createElement(h,null):a&&a.length?a.map((function(e){return c.a.createElement(w,{key:e.id,post:e,likePostEvent:G,getPostCommentsEvent:K})})):c.a.createElement("div",{className:"w-100 text-center"},c.a.createElement("h4",null,"No Post Found")))))),c.a.createElement(f,{loading:D,comments:v,show:B,hide:H}))};l.a.render(c.a.createElement(x,null),document.getElementById("root"))},88:function(e,t,a){e.exports=a(175)},93:function(e,t,a){}},[[88,1,2]]]);
//# sourceMappingURL=main.f6ba3018.chunk.js.map